# Sentiment Analysis Dashboard

A multi-modal sentiment analysis system for customer support calls with real-time transcription, emotion detection, and topic classification.

##  Key Features

- **Dual-Channel Audio Analysis**: Simultaneous analysis of agent and client from stereo recordings
- **Multi-Modal Sentiment Analysis**: Combines text and acoustic features for accurate emotion detection
- **Real-Time Transcription**: GPU-accelerated Wav2Vec2-BERT for Darija/Arabic transcription
- **Topic Classification**: Automatic categorization using AWS Bedrock Claude
- **Session Management**: Multi-user support with intelligent caching
- **Professional UI**: Clean, responsive Gradio interface with multiple analysis views

##  Architecture

```
├── config/              # Configuration management
├── core/               # Core business logic
│   ├── audio/         # Audio processing modules
│   ├── models/        # Model management
│   ├── sentiment/     # Sentiment analysis
│   └── ui/            # UI components
├── utils/             # Utility modules
└── dashboard.py       # Main application
```

## Quick Start

### Using Docker 

1. Clone the repository:
```bash
git clone <repository-url>
cd sentiment-analysis-dashboard
```

2. configure environment:
```
# Edit .env with your credentials
```


```

4. Access the dashboard at http://localhost:7861 or the public key generated by gradio is share is enabled


### Manual Installation

See [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md) for detailed installation instructions.

## 📊 Analysis Pipeline

1. **Audio Input**: Accepts WAV/OGG stereo files (left=Agent, right=Client)
2. **Voice Activity Detection**: PyAnnote-based speaker diarization
3. **Transcription**: GPU-accelerated speech-to-text in Darija
4. **Sentiment Analysis**: 
   - Text-based: Fine-tuned MarBERT/ArabertV2
   - Acoustic: ML models on audio features
   - Fusion: Weighted combination for final prediction
5. **Topic Classification**: Zero-shot classification using Claude

## 🎯 Sentiment Categories

### Agent Emotions
- **Agressif**: Aggressive tone
- **Courtois**: Polite/courteous
- **Sec**: Dry/curt responses
- **Neutre**: Neutral tone

### Client Emotions
- **Content**: Satisfied
- **Mécontent**: Dissatisfied
- **Très Mécontent**: Very dissatisfied
- **Neutre**: Neutral

## 🔧 Configuration

Key configuration options in `.env`:

```bash
# Model paths
TRANSCRIPTION_MODEL_PATH=/path/to/model

# AWS (for topic analysis)
AWS_ACCESS_KEY_ID=your_key
AWS_SECRET_ACCESS_KEY=your_secret

# Server settings
SERVER_PORT=7861
GRADIO_SHARE=false

# Authentication
DASHBOARD_AUTH=user:password
```

See [config/settings.py](config/settings.py) for advanced configuration.

## API Documentation

Comprehensive API documentation available in [docs/API.md](docs/API.md).

Example usage:
```python
from core.audio import audio_processor
from core.sentiment import sentiment_analyzer

# Analyze audio
results = sentiment_analyzer.analyze_sentiment_client_agent(
    agent_text, client_text, audio_path
)
```

## 🔒 Security

- **No hardcoded credentials**: All sensitive data in environment variables
- **Authentication**: Optional basic auth for production
- **Docker security**: Runs as non-root user
- **Input validation**: Comprehensive validation for all inputs

## 📈 Performance Optimization

- **GPU Acceleration**: CUDA support for faster processing
- **Intelligent Caching**: Multi-level caching system
- **Batch Processing**: Efficient handling of multiple files
- **Memory Management**: Automatic cleanup and optimization

## 🐛 Troubleshooting

Common issues and solutions in [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md#troubleshooting).

## 📄 License

Proprietary - All rights reserved.

## 🤝 Contributing

Please contact the development team for contribution guidelines.

## 📞 Support

For technical support, please contact the development team.

---

Built with ❤️ by Cleverlytics for Inwi 